
import { useState } from 'react';

export type Language = 'es' | 'en' | 'fr' | 'pt';

const translations = {
  es: {
    header_title: 'Conversor de Formato de Imagen',
    header_subtitle: 'Convierte tus imágenes de forma rápida y privada',
    uploader_drag_drop: 'Arrastra y suelta imágenes aquí',
    uploader_or: 'o',
    uploader_browse: 'Busca un Archivo',
    uploader_drop_files: 'Suelta los archivos aquí...',
    uploader_supports: 'Soporta: PNG, JPG, WEBP, SVG, XML (AI)',
    file_preview_title: 'Archivos Cargados',
    file_preview_clear_all: 'Limpiar Selección',
    file_preview_remove_file: 'Eliminar archivo',
    options_panel_title: 'Opciones de Conversión',
    options_convert_to: 'Convertir a:',
    options_preserve_transparency: 'Preservar fondo transparente',
    options_quality: 'Calidad (para JPG/WEBP)',
    options_resize: 'Redimensionar Imagen (Opcional)',
    options_width: 'Ancho',
    options_height: 'Alto',
    button_convert: 'Convertir Imágenes',
    button_converting: 'Convirtiendo...',
    button_convert_another: 'Convertir Otra',
    result_placeholder: 'Tu imagen convertida aparecerá aquí.',
    result_success: '¡Conversión Exitosa!',
    result_batch_complete: 'Tus archivos están listos.',
    result_xml_complete: 'Tu archivo XML está listo.',
    result_download: 'Descargar',
    loader_converting: 'Convirtiendo...',
    loader_ai_converting: 'Procesando con IA...',
    footer_copyright: 'Sistemas Inteligentes. Todos los derechos reservados.',
    footer_privacy: 'Las conversiones se procesan localmente en tu navegador para mayor privacidad y velocidad.',
    error_select_files: 'Por favor, selecciona uno o más archivos de imagen primero.',
    error_too_many_files: 'No puedes subir más de 10 archivos a la vez.',
    error_conversion_generic: 'Ocurrió un error durante la conversión. Por favor intenta con otro archivo.',
    buy_me_a_coffee: 'Invítame un café',
  },
  en: {
    header_title: 'Image Format Converter',
    header_subtitle: 'Convert your images quickly and privately',
    uploader_drag_drop: 'Drag & drop images here',
    uploader_or: 'or',
    uploader_browse: 'Browse File',
    uploader_drop_files: 'Drop the files here...',
    uploader_supports: 'Supports: PNG, JPG, WEBP, SVG, XML (AI)',
    file_preview_title: 'Uploaded Files',
    file_preview_clear_all: 'Clear Selection',
    file_preview_remove_file: 'Remove file',
    options_panel_title: 'Conversion Options',
    options_convert_to: 'Convert to:',
    options_preserve_transparency: 'Preserve transparent background',
    options_quality: 'Quality (for JPG/WEBP)',
    options_resize: 'Resize Image (Optional)',
    options_width: 'Width',
    options_height: 'Height',
    button_convert: 'Convert Images',
    button_converting: 'Converting...',
    button_convert_another: 'Convert Another',
    result_placeholder: 'Your converted image will appear here.',
    result_success: 'Conversion Successful!',
    result_batch_complete: 'Your files are ready.',
    result_xml_complete: 'Your XML file is ready.',
    result_download: 'Download',
    loader_converting: 'Converting...',
    loader_ai_converting: 'Processing with AI...',
    footer_copyright: 'Sistemas Inteligentes. All rights reserved.',
    footer_privacy: 'Conversions are processed locally in your browser for privacy and speed.',
    error_select_files: 'Please select one or more image files first.',
    error_too_many_files: 'You cannot upload more than 10 files at once.',
    error_conversion_generic: 'An error occurred during conversion. Please try another file.',
    buy_me_a_coffee: 'Buy me a coffee',
  },
  fr: {
    header_title: 'Convertisseur de Format d\'Image',
    header_subtitle: 'Convertissez vos images rapidement et en privé',
    uploader_drag_drop: 'Glissez-déposez des images ici',
    uploader_or: 'ou',
    uploader_browse: 'Parcourir les Fichiers',
    uploader_drop_files: 'Déposez les fichiers ici...',
    uploader_supports: 'Supporte : PNG, JPG, WEBP, SVG, XML (AI)',
    file_preview_title: 'Fichiers Téléchargés',
    file_preview_clear_all: 'Tout effacer',
    file_preview_remove_file: 'Supprimer le fichier',
    options_panel_title: 'Options de Conversion',
    options_convert_to: 'Convertir en :',
    options_preserve_transparency: 'Préserver le fond transparent',
    options_quality: 'Qualité (pour JPG/WEBP)',
    options_resize: 'Redimensionner l\'Image (Optionnel)',
    options_width: 'Largeur',
    options_height: 'Hauteur',
    button_convert: 'Convertir les Images',
    button_converting: 'Conversion...',
    button_convert_another: 'Convertir un Autre',
    result_placeholder: 'Votre image convertie apparaîtra ici.',
    result_success: 'Conversion Réussie !',
    result_batch_complete: 'Vos fichiers sont prêts.',
    result_xml_complete: 'Votre fichier XML est prêt.',
    result_download: 'Télécharger',
    loader_converting: 'Conversion...',
    loader_ai_converting: 'Traitement par IA...',
    footer_copyright: 'Sistemas Inteligentes. Tous droits réservés.',
    footer_privacy: 'Les conversions sont traitées localement dans votre navigateur pour la confidentialité et la vitesse.',
    error_select_files: 'Veuillez d\'abord sélectionner un ou plusieurs fichiers image.',
    error_too_many_files: 'Vous ne pouvez pas télécharger plus de 10 fichiers à la fois.',
    error_conversion_generic: 'Une erreur s\'est produite lors de la conversion. Veuillez essayer un autre fichier.',
    buy_me_a_coffee: 'Offrez-moi un café',
  },
  pt: {
    header_title: 'Conversor de Formato de Imagem',
    header_subtitle: 'Converta suas imagens de forma rápida e privada',
    uploader_drag_drop: 'Arraste e solte imagens aqui',
    uploader_or: 'ou',
    uploader_browse: 'Procurar Arquivo',
    uploader_drop_files: 'Solte os arquivos aqui...',
    uploader_supports: 'Suporta: PNG, JPG, WEBP, SVG, XML (AI)',
    file_preview_title: 'Arquivos Carregados',
    file_preview_clear_all: 'Limpar Seleção',
    file_preview_remove_file: 'Remover arquivo',
    options_panel_title: 'Opções de Conversão',
    options_convert_to: 'Converter para:',
    options_preserve_transparency: 'Preservar fundo transparente',
    options_quality: 'Qualidade (para JPG/WEBP)',
    options_resize: 'Redimensionar Imagem (Opcional)',
    options_width: 'Largura',
    options_height: 'Altura',
    button_convert: 'Converter Imagens',
    button_converting: 'Convertendo...',
    button_convert_another: 'Converter Outra',
    result_placeholder: 'Sua imagem convertida aparecerá aqui.',
    result_success: 'Conversão Bem-sucedida!',
    result_batch_complete: 'Seus arquivos estão prontos.',
    result_xml_complete: 'Seu arquivo XML está pronto.',
    result_download: 'Baixar',
    loader_converting: 'Convertendo...',
    loader_ai_converting: 'Processando com IA...',
    footer_copyright: 'Sistemas Inteligentes. Todos os direitos reservados.',
    footer_privacy: 'As conversões são processadas localmente no seu navegador para privacidade e velocidade.',
    error_select_files: 'Por favor, selecione um ou mais arquivos de imagem primeiro.',
    error_too_many_files: 'Você não pode enviar mais de 10 arquivos de uma vez.',
    error_conversion_generic: 'Ocorreu um erro durante a conversão. Por favor, tente outro arquivo.',
    buy_me_a_coffee: 'Pague-me um café',
  },
};

const getInitialLanguage = (): Language => {
    const browserLang = navigator.language.split('-')[0];
    if (browserLang in translations) {
      return browserLang as Language;
    }
    return 'es'; // Default language
};

export const useTranslations = () => {
  const [language, setLanguage] = useState<Language>(getInitialLanguage);

  const t = (key: string): string => {
    const lang = translations[language] || translations['en'];
    return lang[key] || translations['en'][key] || key;
  };

  return { t, language, setLanguage, getInitialLanguage };
};
